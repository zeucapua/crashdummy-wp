---
import SiteLayout from "../layouts/SiteLayout.astro";
import { getAllPostsForList } from "../lib/wp-api.js";
import PostCard from "../components/PostCard.astro";

const data = await getAllPostsForList();
const posts = data.posts.nodes;
---

<SiteLayout>
    <div class="flex flex-col gap-8 p-16 text-white h-full min-h-screen w-full xl:max-w-screen-2xl mx-auto">
        <div class="flex flex-row gap-8">
            <img src="/crash-mascot.png" class="w-1/3"  />
            <div class="flex flex-col">
                <p class="text-7xl text-yellow-400 font-['Red Hat Display'] tracking-widest font-bold">CRASH COURSE</p>
                <p class="text-3xl text-yellow-400 font-['Red Hat Display'] tracking-wide font-bold underline underline-offset-8">
                    Wordpress Starter with Crash the Dummy
                </p>
                <div class="flex flex-col mt-8 gap-8">
                    <p class="text-2xl">
                    This website is managed through a Headless Wordpress CMS and rendered using Astro.
                    The source code for this website will be available as a Github Repository, which you can clone
                    using the following code below:
                    </p>
                    <code class="bg-red-900 p-8 rounded-lg">
                    // will be determined later
                    </code>
                    <p class="text-2xl">
                    You can find blog posts below that will document how this website works! It will be updated
                    as this is being developed.
                    </p>
                </div>
            </div>
        </div>

        <div class="flex flex-col gap-8">
            <p class="text-5xl text-yellow-400 font-['Red Hat Display'] tracking-widest underline underline-offset-8 font-bold">Blog Posts</p>
            <div class="flex flex-row overflow-x-auto">
            {
                posts.map(post => {
                    return <PostCard node={post} />
                })
            }
            </div>
        </div>

    </div>
</SiteLayout>

